import{j as e,L as N,r as d,b as h,a as v,g as y,N as C,P as S,f as A}from"./index-b82a86c5.js";import{T as F,A as $}from"./AuthError.Component-340f3d45.js";function L({loading:t,title:r,children:a}){return e.jsx("button",{disabled:t,className:"flex items-center justify-center w-full py-4 mt-5 font-semibold tracking-wide text-gray-100 transition-all duration-300 ease-in-out bg-indigo-500 rounded-lg disabled:bg-slate-300 hover:bg-indigo-700 focus:shadow-outline focus:outline-none",children:t?e.jsx(N,{size:6}):e.jsxs(d.Fragment,{children:[a,e.jsx("span",{className:"ml-3",children:r})]})})}function E({value:t,onChange:r,onBlur:a,focused:n}){return e.jsxs("div",{children:[e.jsx("input",{className:"w-full px-8 py-4 mt-5 text-sm font-medium placeholder-gray-500 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-400 focus:bg-white",type:"email",name:"email",required:!0,autoFocus:!0,placeholder:"Email",value:t,onChange:r,focused:n,onBlur:a}),e.jsx("div",{className:"relative text-center top-2 input-error",children:e.jsx("span",{className:"text-sm text-red-500",children:"Must be a valid email address"})})]})}const P="/job-finder-react-frontend/assets/showPass-b5df9896.png",R="/job-finder-react-frontend/assets/hidePass-da346e1e.png",x=(t,r)=>{switch(r){case"letter":return/[a-zA-Z]/.test(t);case"number":return/\d/.test(t);case"character":return/[$@#&!%*?]/.test(t);case"length":return t.length>=8;case"validate":return/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/.test(t);default:throw new Error("Invalid check type")}},c="/job-finder-react-frontend/assets/yes-cad43ec2.png",m="/job-finder-react-frontend/assets/remove-df93a6f3.png";function _({payload:t,checkPassword:r}){const{password:a}=t;return e.jsxs("ul",{className:"mt-5",children:["Password must contain:",e.jsxs("li",{className:`flex items-center gap-1 ${r(a,"letter")?"text-green-600":"text-red-500"}`,children:[e.jsx("img",{className:"w-3 h-3",src:r(a,"letter")?c:m,alt:"passed"}),"one letter"]}),e.jsxs("li",{className:`flex items-center gap-1 ${r(a,"number")?"text-green-600":"text-red-500"}`,children:[e.jsx("img",{className:"w-3 h-3",src:r(a,"number")?c:m,alt:"passed"}),"one number"]}),e.jsxs("li",{className:`flex items-center gap-1 ${r(a,"character")?"text-green-600":"text-red-500"}`,children:[e.jsx("img",{className:"w-3 h-3",src:r(a,"character")?c:m,alt:"passed"}),"one special character"]}),e.jsxs("li",{className:`flex items-center gap-1 ${r(a,"length")?"text-green-600":"text-red-500"}`,children:[e.jsx("img",{className:"w-3 h-3",src:r(a,"length")?c:m,alt:"passed"}),"minimum of eight charachter"]})]})}function k({payload:t,onChange:r,onFocus:a,focused:n,showPassword:i,setShowpassword:o}){return e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full px-8 py-4 mt-5 text-sm font-medium placeholder-gray-500 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-400 focus:bg-white",type:i?"text":"password",name:"password",placeholder:"Password",required:!0,pattern:"^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$",value:t.password,focused:n,onChange:r,onFocus:a}),e.jsx("button",{type:"button",tabIndex:"-1",className:"absolute right-5 top-[33px] p-1 rounded-full hover:bg-slate-300 transition-colors",onClick:()=>o(l=>!l),children:e.jsx("img",{className:"w-5 h-5",src:i?R:P,alt:i?"hide password image":"show password image"})}),!x(t.password,"validate")&&e.jsx("div",{className:"text-sm font-medium text-slate-500 input-error",children:e.jsx("span",{children:e.jsx(_,{payload:t,checkPassword:x})})})]})})}function z({value:t,onChange:r,onFocus:a,focused:n,pattern:i,showPassword:o}){return e.jsxs("div",{children:[e.jsx("input",{className:"w-full px-8 py-4 mt-5 text-sm font-medium placeholder-gray-500 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-400 focus:bg-white",type:o?"text":"password",name:"password_confirmation",placeholder:"Confirm Password",value:t,focused:n,onChange:r,onFocus:a,required:!0,pattern:i}),e.jsx("div",{className:"mt-2 text-center input-error",children:e.jsx("span",{className:"text-sm text-red-500",children:"Password doesn't match"})})]})}const f={email:"false",password:"false",password_confirmation:"false"},I={email:"",password:"",password_confirmation:""};function M({registerMutation:t,registerLoading:r,isError:a}){const[n,i]=d.useState(f),[o,l]=d.useState(I),[p,j]=d.useState(!1),w=s=>{s.preventDefault(),t(o)},g=s=>{s.target.name,i({...n,[s.target.name]:"true"})},b=s=>{i({...n,[s.target.name]:"true"})},u=s=>{l({...o,[s.target.name]:s.target.value})};return d.useEffect(()=>{a&&(l(s=>({...s,password:"",password_confirmation:""})),i(f))},[a]),e.jsxs("form",{onSubmit:w,children:[e.jsx(E,{value:o.email,onChange:s=>u(s),focused:n.email,onBlur:s=>b(s)}),e.jsx(k,{focused:n.password,payload:o,onChange:s=>u(s),onFocus:s=>g(s),showPassword:p,setShowpassword:j}),x(o.password,"validate")&&e.jsx(z,{value:o.password_confirmation,onChange:s=>u(s),onFocus:s=>g(s),focused:n.password_confirmation,pattern:o.password,showPassword:p}),e.jsx(L,{loading:r,title:"Sign Up",children:e.jsxs("svg",{className:"w-6 h-6 -ml-2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),e.jsxs("p",{className:"px-2 mt-5 font-medium leading-none tracking-wide text-center text-gray-600 transform translate-y-1/2 bg-white ",children:["Alrady have an account?"," ",e.jsx(h,{to:"/auth/login",className:"font-bold text-indigo-500",children:"Login"})]}),e.jsx(F,{})]})}function q(){var o,l;const{token:t}=v(),{isLoading:r,isError:a,error:n,mutate:i}=y();return t?e.jsx(C,{to:"/"}):e.jsxs(d.Fragment,{children:[e.jsx(S,{title:"Register | JobFinder"}),e.jsxs("div",{className:"p-6 sm:p-12",children:[e.jsx(h,{to:"/jobs",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:A,alt:""})})}),e.jsxs("div",{className:"flex flex-col items-center mt-12",children:[e.jsx("h1",{className:"text-2xl font-extrabold xl:text-3xl",children:"Sign up for Job Finder"}),e.jsx("div",{className:"flex-1 w-full mt-8",children:e.jsxs("div",{className:"max-w-xs mx-auto",children:[e.jsx($,{error:a,errorMessage:(l=(o=n==null?void 0:n.response)==null?void 0:o.data)==null?void 0:l.message}),e.jsx(M,{registerLoading:r,registerMutation:i,isError:a})]})})]})]})]})}export{q as default};
