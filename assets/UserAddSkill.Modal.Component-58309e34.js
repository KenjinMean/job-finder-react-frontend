import{w as u,j as e,r as i,M as m}from"./index-84fc5be8.js";import{b as h,c as x}from"./useSkillRequestHandler-c5acf6f5.js";import{L as c}from"./LoadingSpinnder.Util-18d0eeba.js";function g({searchFn:n,className:s,keyword:l,setKeyword:r}){const d=u(()=>{n()},300),t=a=>{const o=a.currentTarget.value;r(o),(o.length===0||o.length>1)&&d()};return e.jsx(i.Fragment,{children:e.jsx("input",{autoFocus:!0,type:"text",placeholder:"Skill",value:l,onChange:a=>t(a),className:s})})}function p({skills:n,keyword:s,addSkillFn:l,isFetchingSuggestions:r}){const d=t=>{l(t)};return e.jsx(i.Fragment,{children:r?e.jsx(c,{}):e.jsxs(i.Fragment,{children:[s.length>0&&n.length===0&&e.jsx("div",{children:"No results"}),e.jsx("ul",{className:"flex flex-wrap gap-2 text-sm font-secondary",children:n&&n.map(t=>e.jsx("li",{children:e.jsx("button",{className:"px-3 py-1 transition-all border border-gray-500 rounded-full hover:bg-indigo-500 hover:text-white",onClick:()=>d(t.id),children:t.name})},t.id))})]})})}function b(){const[n,s]=i.useState(""),{data:l,isFetching:r,refetch:d}=h(n),{isLoading:t,mutate:a}=x();return e.jsx(m,{modalTitle:"Add Skill",children:e.jsxs("div",{className:"p-5",children:[e.jsx("div",{className:"relative w-full mx-auto mb-5 rounded-sm sm:mb-10",children:e.jsx("div",{className:"flex items-center bg-white rounded-md sm:rounded-none",children:e.jsx("div",{className:"flex-grow",children:t?e.jsx(c,{}):e.jsx(g,{keyword:n,setKeyword:s,searchFn:d,className:"w-full p-3 text-center border rounded-md font-secondary sm:text-left"})})})}),e.jsx("p",{className:"mb-5 text-lg font-secondary",children:"Skill Suggestions"}),e.jsx("div",{className:"p-5 border rounded-md bg-background-100",children:e.jsx(p,{skills:l,keyword:n,addSkillFn:a,isFetchingSuggestions:r})})]})})}export{b as default};
