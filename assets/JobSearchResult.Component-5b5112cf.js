import{u as J,r as a,y as N,R as e,P,b as R,v as k,J as y}from"./index-69428934.js";import{m as I,J as L}from"./JobContainer.Component-9b6c057f.js";import"./formatSalary-a9c72987.js";function S(n,t){const s=new URLSearchParams(n.search),r={};for(const[o,l]of s.entries())r[o]=l;return r}function U(){var g;const n=J(),t=a.useRef(null),s=S(n),{data:r,hasNextPage:o,refetch:l,fetchNextPage:p,isFetching:d,isFetchingNextPage:i}=N(s),f=()=>{t.current&&o&&!i&&p()};return a.useEffect(()=>{const c=new IntersectionObserver(u=>{u[0].isIntersecting&&f()});return t.current&&c.observe(t.current),()=>{t.current&&c.unobserve(t.current)}},[f]),a.useEffect(()=>{l()},[n]),e.createElement(a.Fragment,null,e.createElement(P,{title:"Job Search Results"}),(g=r==null?void 0:r.pages)==null?void 0:g.map((c,u)=>{var b,h;return e.createElement(a.Fragment,{key:u},(h=(b=c.data)==null?void 0:b.data)==null?void 0:h.map((m,E,v)=>{const x=E===v.length-1;return e.createElement("div",{key:m.id,className:"relative",ref:x?t:null},e.createElement("button",{onClick:()=>console.log("clicked"),className:"absolute z-10 p-1 transition-all duration-300 border rounded-full right-5 top-5 hover:bg-background-200 "},e.createElement("img",{src:I,alt:"Menu icon",className:"w-5 h-5"})),e.createElement(R,{to:`${k}${m.slug}`},e.createElement(L,{job:m})))}))}),i&&e.createElement("div",{className:"pt-5 "},e.createElement(y,null)),!o&&!d&&!i&&e.createElement("div",{className:"w-full mt-5 text-lg font-semibold text-center text-foreground-300"},"No more jobs available for the search: ",s.query))}export{U as default};
