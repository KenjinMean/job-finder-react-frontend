import{t as m,j as e,r as i,M as x,q as c,v as h}from"./index-59cb0d5d.js";import{a as g,b as f}from"./useSkillRequestHandler-b4ee8f93.js";import{L as u}from"./LoadingSpinnder.Util-7323f3ad.js";function p({searchFn:n,className:l,keyword:t,setKeyword:r}){const a=m(()=>{n()},300),s=o=>{const d=o.currentTarget.value;r(d),(d.length===0||d.length>1)&&a()};return e.jsx(i.Fragment,{children:e.jsx("input",{autoFocus:!0,type:"text",placeholder:"Skill",value:t,onChange:o=>s(o),className:l})})}function j({skills:n,keyword:l,addSkillFn:t,isFetchingSuggestions:r}){const a=s=>{t(s)};return e.jsx(i.Fragment,{children:r?e.jsx(u,{}):e.jsxs(i.Fragment,{children:[l.length>0&&n.length===0&&e.jsx("div",{children:"No results"}),e.jsx("ul",{className:"flex flex-wrap gap-2 text-sm font-secondary",children:n&&n.map(s=>e.jsx("li",{children:e.jsx("button",{className:"px-3 py-1 transition-all border border-gray-500 rounded-full hover:bg-indigo-500 hover:text-white",onClick:()=>a(s.id),children:s.name})},s.id))})]})})}function k(){const[n,l]=i.useState(""),{data:t,isFetching:r,refetch:a}=g(n),{isLoading:s,mutate:o}=f();return e.jsx(x,{navigateOnClose:c.userProfilePage,contentClassName:"relative w-full max-w-3xl modal-content",children:e.jsxs("div",{className:"relative flex flex-col w-full bg-white rounded-lg shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between p-5",children:[e.jsx("h3",{className:"text-xl font-secondary",children:"Add User Skill"}),e.jsx(h,{to:c.userProfilePage,preventScrollReset:!0})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("div",{className:"relative w-full mx-auto mb-5 rounded-sm sm:mb-10",children:e.jsx("div",{className:"flex items-center bg-white rounded-md sm:rounded-none",children:e.jsx("div",{className:"flex-grow",children:s?e.jsx(u,{}):e.jsx(p,{keyword:n,setKeyword:l,searchFn:a,className:"w-full p-3 text-center border rounded-md font-secondary sm:text-left"})})})}),e.jsx("p",{className:"mb-5 text-lg font-secondary",children:"Skill Suggestions"}),e.jsx("div",{className:"p-5 border rounded-md bg-background-100",children:e.jsx(j,{skills:t,keyword:n,addSkillFn:o,isFetchingSuggestions:r})})]})]})})}export{k as default};
