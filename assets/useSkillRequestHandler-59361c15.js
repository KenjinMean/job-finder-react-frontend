import{y as c,z as n,k,A as a,C as d,a as u,D as l,v as i,U as o}from"./index-ce79feb0.js";const y=s=>l.get(`/search-skills?keyword=${s}`),h=s=>l.post(`/add-skill?skill_id=${s}`),m=()=>l.get("/get-user-skills"),p=(s,t)=>c({queryKey:["searchskill"],queryFn:async()=>await y(s),select:e=>{var r;return(r=e==null?void 0:e.data)==null?void 0:r.skills},cacheTime:n(30,"mins"),staleTime:n(10,"mins")}),U=()=>{const s=k(),t=a();return d(h,{onSuccess:async()=>{t.invalidateQueries("searchskill"),s(i(o.userAddSkillSuccessModal.name))},onError:e=>{const r=e.response.data.error||"An error occurred";s(i(o.userAddSkillErrorModal.name,{error:r}))}})},v=()=>{const{authenticatedUser:s}=u(),t=a();return async e=>{try{(await l.delete(`/remove-skill?skill_id=${e}`)).status===200&&t.refetchQueries(["fetchUserSkills",s.id])}catch(r){throw console.error("Error removing skill:",r),r}}},g=s=>{const{authenticatedUser:t}=u();return c({queryKey:["fetchUserSkills",t.id],queryFn:async()=>await m(),select:e=>{var r;return(r=e==null?void 0:e.data)==null?void 0:r.skills},suspense:!0,cacheTime:n(30,"mins"),staleTime:n(10,"mins")})};export{v as a,p as b,U as c,g as u};
