import{y as i,z as n,A as o,m as d,C as c,D as k,a as u,v as a,U as l}from"./index-0243f51f.js";const h=async e=>{try{return(await i.get(`/search-skills?keyword=${e}`)).data.skills}catch(s){throw console.error("Failed to Search Skill on skilLSearchApi request:",s.message),logAxiosError(s),new Error("Failed to Search Skill on skilLSearchApi request")}},p=async e=>await i.post(`/add-skill?skill_id=${e}`),S=async e=>{try{return await i.delete(`/remove-skill?skill_id=${e}`)}catch(s){throw console.error("Failed to Remove Skill on skilLSearchApi request:",s.message),logAxiosError(s),new Error("Failed to Remove Skill on skilLSearchApi request")}},y=async()=>{try{return(await i.get("/get-user-skills")).data.skills}catch(e){throw console.error("Failed to fetch User Skill on skilLSearchApi request:",e.message),logAxiosError(e),new Error("Failed to fetch User Skill on skilLSearchApi request")}},A=e=>n({queryKey:["searchSkill"],queryFn:async()=>{try{return await h(e)}catch(s){throw console.error("Handling fetchSkill Response Failed in useApiSkill hook:",s.message),new Error("Handling fetchSkill Response Failed in useApiSkill hook")}},cacheTime:o(60,"mins"),staleTime:o(60,"mins")}),w=()=>{const e=d(),s=c();return k(r=>p(r),{onSuccess:async()=>{s.invalidateQueries("searchSkill"),e(a(l.userAddSkillSuccessModal.name))},onError:r=>{const t=r.response.data.error||"An error occurred";e(a(l.userAddSkillErrorModal.name,{error:t}))}})},g=()=>{const{authenticatedUser:e}=u(),s=c();try{return async r=>{(await S(r)).status===200&&s.refetchQueries(["fetchUserSkills",e.id])}}catch(r){throw console.error("Handling User Skill Remove Response Failed on useHook:",r),new Error("Failed to update user information")}},U=(e=!0)=>{const{authenticatedUser:s}=u();return n({queryKey:["fetchUserSkills",s.id],queryFn:()=>y(),enabled:e,suspense:!0,cacheTime:o(30,"mins"),staleTime:o(10,"mins")})};export{g as a,A as b,w as c,U as u};
