import{y as a,a as o,z as d,A as i,C as f,m as c,D as u,v as p}from"./index-f5971257.js";const U=async()=>await a.get("/user-infos/show"),h=async s=>await a.post("/user-infos/update",s),l=async s=>await a.post("/user-infos/update-profile-image",s),g=async s=>await a.post("/user-infos/update-cover-image",s),I=()=>{const{authenticatedUser:s,setAuthenticatedUserUserInfo:n}=o();let r=!1;return d({queryKey:["fetchUserInfo",s.id],queryFn:async()=>{try{const e=await U();return n(e.data),e}catch(e){throw i("Handling fetchUserInfo Response Failed in useApiUserInfo hook:",e.message),r=!0,{code:e.response.status,message:"Failed to fetch user info"}}},select:e=>e==null?void 0:e.data,suspense:!0,cacheTime:r?void 0:f(30,"mins"),staleTime:r?void 0:f(30,"mins")})},m=()=>{const s=c(),n=u(),{authenticatedUser:r}=o();return async e=>{s(p.userProfilePage);try{(await h(e)).status===200&&n.refetchQueries(["fetchUserInfo",r.id])}catch(t){throw i("Handling updateUserInfo Response Failed on useApiUserInfo:",t.message),{code:t.response.status}}}},A=()=>{const s=c(),n=u(),{authenticatedUser:r}=o();return async e=>{try{s(p.userProfilePage),(await l(e)).status===200&&n.refetchQueries(["fetchUserInfo",r.id])}catch(t){throw i("Handling UserProfileImageUpdate Response Failed on useApiUserInfo:",t.message),{code:t.response.status}}}},w=()=>{const s=c(),n=u(),{authenticatedUser:r}=o();return async e=>{try{s(p.userProfilePage),(await g(e)).status===200&&n.refetchQueries(["fetchUserInfo",r.id])}catch(t){throw i("Handling UserCoverImageUpdate Response Failed on useApiUserInfo:",t.message),{code:t.response.status}}}};export{m as a,w as b,A as c,I as u};
