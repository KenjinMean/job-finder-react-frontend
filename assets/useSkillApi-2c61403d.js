import{y as t,z as o,A as a,m as d,C as c,D as k,a as u,v as i,U as n}from"./index-88e80b56.js";const h=async e=>{try{return(await t.get(`/search-skills?keyword=${e}`)).data.skills}catch(s){throw console.error("Search skill failed:",s.message),new Error("search skill failed")}},p=async e=>await t.post(`/add-skill?skill_id=${e}`),y=async e=>{try{return await t.delete(`/remove-skill?skill_id=${e}`)}catch(s){throw console.error("Remove skill failed:",s.message),new Error("remove skill failed")}},m=async()=>{try{return(await t.get("/get-user-skills")).data.skills}catch(e){throw console.error("Fetch user skill failed:",e.message),new Error("fetch user skill failed")}},f=e=>o({queryKey:["searchskill"],queryFn:()=>h(e),cacheTime:a(30,"mins"),staleTime:a(10,"mins")}),w=()=>{const e=d(),s=c();return k(r=>p(r),{onSuccess:async()=>{s.invalidateQueries("searchskill"),e(i(n.userAddSkillSuccessModal.name))},onError:r=>{const l=r.response.data.error||"An error occurred";e(i(n.userAddSkillErrorModal.name,{error:l}))}})},A=()=>{const{authenticatedUser:e}=u(),s=c();return async r=>{(await y(r)).status===200&&s.refetchQueries(["fetchUserSkills",e.id])}},U=(e=!0)=>{const{authenticatedUser:s}=u();return o({queryKey:["fetchUserSkills",s.id],queryFn:()=>m(),enabled:e,suspense:!0,cacheTime:a(30,"mins"),staleTime:a(10,"mins")})};export{A as a,f as b,w as c,U as u};
