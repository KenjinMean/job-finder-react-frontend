import{a9 as a,p,ac as d,ad as U,ae as i,m as g,aa as m,ab as y,Q as c,n as I}from"./index-f8fa1d3f.js";const r="users/user-info",h=async()=>await a.get(`${r}`),A=async s=>await a.post(`${r}`,s),M=async s=>await a.post(`${r}/profile-image`,s),v=async s=>await a.post(`${r}/cover-image`,s),P=(s=!0)=>{const{user:n,setUserInfo:o}=p();return d({queryKey:["fetchUserInfo",n.id],queryFn:async()=>{try{const e=await h();return console.log(e.data),e.status===200&&o(e.data),e}catch(e){U(e,e.message,"useApiUserInfoFetch")}},select:e=>e==null?void 0:e.data,suspense:!0,enabled:s,cacheTime:i(30,"mins"),staleTime:i(30,"mins")})},u=(s,n,o)=>{const e=g(),{user:f}=p(),l=m();return y(t=>s(t),{onSuccess:t=>{c.success(n),l.refetchQueries(["fetchUserInfo",f.id]),e(I.userProfilePage)},onError:t=>{c.error("Sorry, we encountered an issue processing your request. Please try again later."),U(t,t.message,o)}})},w=()=>u(A,"User info Updated Successfully.","useApiUserInfoUpdateMutation"),S=()=>u(M,"Profile Image Updated Successfully.","useApiUserProfileImageUpdateMutation"),q=()=>u(v,"Cover Image Updated Successfully.","useApiUserCoverImageUpdateMutation");export{w as a,q as b,S as c,P as u};
