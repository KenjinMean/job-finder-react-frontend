import{r as i,a as f,t as j,j as e,f as u,v as b,B as m,w as h,I as N,m as g,x as k,y as v}from"./index-f814a0b5.js";import{B as w}from"./ButtonBack.Ui.Component-7f324480.js";import{g as S,f as C}from"./getElapsedTime-5a597fca.js";function _(s,t){const[l,d]=i.useState([]),[c,r]=i.useState([]);return i.useEffect(()=>{const x=t.map(n=>n.name),a=s.filter(n=>x.includes(n.name)).map(n=>({name:n.name})),o=s.filter(n=>!x.includes(n.name)).map(n=>({name:n.name}));d(a),r(o)},[s,t]),{matchedSkills:l,unmatchedSkills:c,matchedSkillsLength:l.length,unmatchedSkillsLength:c.length}}function L({jobSkills:s}){const{token:t}=f(),{refetch:l}=j(!1),[d,c]=i.useState([]),{matchedSkills:r,unmatchedSkills:x}=_(d,s);return i.useEffect(()=>{t?l().then(a=>{c(a.data)}):c([])},[t]),e.jsxs("div",{id:"job-skill",className:"border rounded-md border-border-100",children:[e.jsx("h2",{className:"p-5 text-lg font-bold border-b border-border-100",children:"Job Skills"}),e.jsxs("div",{className:"p-5",children:[t&&e.jsx("p",{className:"mb-2",children:`${r.length?r.length:"No"} ${r.length===1?"skill":"skills"} matched`}),e.jsx("p",{className:"flex flex-wrap gap-1 text-sm",children:s.map(a=>{const o=d.some(p=>p.name===a.name),n=o?"bg-accent-blue600 text-content-black_inverted font-bold":"";return e.jsxs("span",{className:`px-2 rounded-full flex ${n}`,children:[o&&e.jsx("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-content-black_inverted",children:e.jsx("path",{d:"M7 12L9.89075 14.8907V14.8907C9.95114 14.951 10.049 14.9511 10.1094 14.8907V14.8907L17 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),a.name]},a.name)})})]}),t&&e.jsx("div",{className:"border-t border-border-100",children:e.jsx(u,{className:"block w-full py-3 text-xl text-center text-accent-blue500 hover:text-content-black",children:"Manage Skills"})})]})}function U({jobDetails:s}){return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-md",children:"Job Description:"}),e.jsx("p",{className:"pl-5",children:s.description})]}),e.jsxs("div",{className:"",children:[e.jsx("span",{className:"font-bold text-md",children:"Responsibilities:"}),e.jsx("p",{className:"pl-5 whitespace-pre-line",children:s.responsibilities})]}),e.jsxs("div",{className:"",children:[e.jsx("span",{className:"font-bold text-md",children:"Qualifications:"}),e.jsx("p",{className:"pl-5 whitespace-pre-line",children:s.qualifications})]})]})}function A({tags:s}){return e.jsx("span",{className:"",children:s.map((t,l)=>e.jsxs(i.Fragment,{children:[e.jsx("span",{className:"px-2 rounded-full text-content-black_inverted bg-accent-blue600 whitespace-nowrap",children:t.job_type},l),l!==s.length-1&&e.jsx("span",{className:"text-foreground-100",children:" • "})]},l))})}function B({jobDetails:s}){const t=b();return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-content-black",children:s.title}),e.jsxs("p",{className:"text-content-black",children:[e.jsx("span",{className:"whitespace-nowrap",children:s.company.name})," • ",e.jsx("span",{className:"text-accent-blue500",children:s.location})," • ",e.jsx("span",{className:"whitespace-nowrap text-accent-blue500",children:S(s.created_at)})]}),e.jsxs("p",{className:"text-sm font-semibold",children:[e.jsx(A,{tags:s.job_types})," •"," ",s.experience_level," level"]}),e.jsxs("p",{className:"",children:[e.jsx("span",{className:"",children:"Salary: "}),e.jsxs("span",{className:"text-content-gray",children:["P",C(s.salary)]})]}),e.jsxs("p",{children:[e.jsx("span",{className:"",children:"Company Size:"})," ",s.company.company_size," employees • ",s.category]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{onClick:()=>t(h.notImplementedDialog.name),children:"Apply"})," ",e.jsx(m,{onClick:()=>t(h.notImplementedDialog.name),children:"Save"})]})]})}function J({company:s}){return e.jsxs("div",{className:"flex flex-col gap-5 p-5 border rounded-md border-border-100",children:[e.jsx("h2",{className:"text-xl font-bold ",children:"Company Details"}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-20 h-20 mb-2 overflow-hidden rounded-md",children:e.jsx(N,{imageUrl:s==null?void 0:s.company_logo})}),e.jsxs("p",{className:"flex flex-col text-sm text-content-black",children:[e.jsx("span",{className:"text-lg",children:s==null?void 0:s.name}),e.jsx("span",{className:"text-content-slate_500",children:s==null?void 0:s.location}),e.jsxs("span",{className:"text-content-slate_500",children:[s==null?void 0:s.company_size," - employee's"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"company-description",className:"font-bold",children:"About"}),e.jsx("p",{className:"line-clamp-2",id:"company-description",children:s==null?void 0:s.description})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"company-website",children:"Visit Website: "}),e.jsx("a",{href:s==null?void 0:s.website,className:" text-accent-blue500",id:"company-website",target:"_blank",rel:"noopener noreferrer",children:s==null?void 0:s.website})]})]})]})}function M(){const s=g(),{jobSlug:t}=k(),{data:l}=v(t);return e.jsxs("section",{className:"relative grid grid-cols-1 gap-5 mx-auto md:grid-cols-2 text-content-gray",children:[e.jsxs("div",{className:"flex flex-col max-w-md gap-5 md:max-w-none",children:[e.jsx(w,{onClick:()=>s(-1)}),e.jsx(B,{jobDetails:l}),e.jsx(U,{jobDetails:l})]}),e.jsxs("div",{className:"sticky flex flex-col gap-5 rounded-md md:mt-16 top-5 h-fit",children:[e.jsxs("div",{className:"rounded-md md:p-5 md:border border-border-100",children:[e.jsx("span",{className:"text-lg font-bold",children:"Benefits:"}),e.jsx("p",{className:"pl-5 whitespace-pre-line",children:l.benefits})]}),e.jsx(L,{jobSkills:l.skills}),(l==null?void 0:l.company)&&e.jsx(J,{company:l.company})]})]})}export{M as default};
