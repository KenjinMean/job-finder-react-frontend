import{a1 as n,a as o,a2 as U,aa as i,a4 as p,n as u,a5 as c,ae as l,y as f,Q as d}from"./index-31867f23.js";const h=async()=>await n.get("/user-infos/show"),g=async s=>await n.post("/user-infos/update",s),y=async s=>await n.post("/user-infos/profile-image",s),I=async s=>await n.post("/user-infos/update-cover-image",s),w=()=>{const{authenticatedUser:s,setAuthenticatedUserUserInfo:r}=o();let t=!1;return U({queryKey:["fetchUserInfo",s.id],queryFn:async()=>{try{const e=await h();return r(e.data),e}catch(e){throw i("Handling fetchUserInfo Response Failed in useApiUserInfo hook:",e.message),t=!0,{code:e.response.status,message:"Failed to fetch user info"}}},select:e=>e==null?void 0:e.data,suspense:!0,cacheTime:t?void 0:p(30,"mins"),staleTime:t?void 0:p(30,"mins")})},A=()=>{const s=u(),r=c(),{authenticatedUser:t}=o();return l(e=>g(e),{onSuccess:e=>{d.success("User info Updated Successfully."),r.refetchQueries(["fetchUserInfo",t.id]),s(f.userProfilePage)},onError:e=>{d.error("Sorry, we encountered an issue processing your request. Please try again later."),handleFetchError(e,e.message,"useApiUserInfoUpdateMutation")}})},P=()=>{const s=u(),r=c(),{authenticatedUser:t}=o();return async e=>{try{s(f.userProfilePage),(await y(e)).status===200&&r.refetchQueries(["fetchUserInfo",t.id])}catch(a){throw i("Handling UserProfileImageUpdate Response Failed on useApiUserInfo:",a.message),{code:a.response.status}}}},v=()=>{const s=u(),r=c(),{authenticatedUser:t}=o();return async e=>{try{s(f.userProfilePage),(await I(e)).status===200&&r.refetchQueries(["fetchUserInfo",t.id])}catch(a){throw i("Handling UserCoverImageUpdate Response Failed on useApiUserInfo:",a.message),{code:a.response.status}}}};export{A as a,v as b,P as c,w as u};
