import{j as e,i as f,r as h,k as u,l as j,D as v,L as w,a as N,m as y,N as L,g as p,b as g,h as k,c as P}from"./index-9e1473eb.js";import{A as S,T as A}from"./TermsServices-f72f2b65.js";import{i as F}from"./isObjectEmpty-099e14dd.js";const C="/job-finder-react-frontend/assets/showPass-b5df9896.png",z="/job-finder-react-frontend/assets/hidePass-da346e1e.png";function $({form:t,name:s,label:r,disabled:a,placeholder:c,showPassword:o,setShowPassword:i,validationSchema:l,...d}){var m;const{register:x,formState:{errors:n}}=t;return e.jsxs("div",{className:"text-sm",children:[e.jsx("label",{htmlFor:s,className:"block mb-1 font-medium text-content-gray ",children:r}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:s,name:s,type:o?"text":"password",placeholder:c,disabled:a,className:`bg-input-gray border border-border-100 text-content-black rounded-lg focus:ring-accent-blue500 focus:border-accent-blue500 block w-full p-2.5 disabled:opacity-50 ${n[s]&&"border-red-500"}`,...x(s,{minLength:{value:8,message:"Password must be at least 8 characters long"},pattern:{value:/^(?=.*[a-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character"}}),...d}),e.jsx("button",{type:"button",tabIndex:"-1",className:"absolute p-1 transition-colors rounded-full top-[50%] -translate-y-[50%] right-3 hover:bg-background-slate300",onClick:()=>i(b=>!b),children:e.jsx("img",{className:"w-5 h-5",src:o?z:C,alt:o?"hide password image":"show password image"})})]}),e.jsx("p",{className:"text-red-500",children:(m=n[s])==null?void 0:m.message})]})}function E({name:t,isSubmitting:s,handleFormSubmit:r}){const a=f({mode:"onBlur"}),{control:c,handleSubmit:o,watch:i}=a,l=i("password"),[d,x]=h.useState(!1);return e.jsxs("form",{id:t,noValidate:!0,name:t,className:"flex flex-col gap-3",onSubmit:o(r),children:[e.jsx(u,{form:a,name:"first_name",placeholder:"First Name",disabled:s,validationSchema:{required:"First Name is required"}}),e.jsx(u,{form:a,name:"last_name",placeholder:"Last Name",disabled:s,validationSchema:{required:"Last Name is required"}}),e.jsx(u,{form:a,name:"email",type:"email",disabled:s,placeholder:"email",validationSchema:{pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Invalid email format"},validate:{emailAvailable:async n=>{if(n){const m=await j(n);return F(m.data)||"email already exists"}}}}}),e.jsx($,{form:a,name:"password",placeholder:"password",disabled:s,showPassword:d,setShowPassword:x,validationSchema:{minLength:{value:8,message:"Password must be at least 8 characters long"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character"}}}),l&&e.jsx(u,{form:a,type:d?"text":"password",name:"password_confirmation",placeholder:"Confirm Password",disabled:s,validationSchema:{validate:{isPasswordMatch:n=>n===l||"Passwords do not match"}}}),e.jsx(v,{control:c})]})}function M({loading:t,title:s,children:r,...a}){return e.jsx("button",{type:"submit",disabled:t,className:"flex items-center justify-center w-full py-4 mt-5 font-semibold tracking-wide transition-all duration-300 ease-in-out bg-indigo-500 rounded-lg text-content-white_stable disabled:bg-background-slate300 hover:bg-indigo-700 focus:outline-none focus:ring-4 focus:ring-accent-blue500",...a,children:t?e.jsx(w,{size:6}):e.jsxs(h.Fragment,{children:[r,e.jsx("span",{className:"ml-3",children:s})]})})}function q(){var i,l;const{token:t}=N(),{isLoading:s,isError:r,error:a,mutate:c}=y(),o=d=>{c(d)};return t?e.jsx(L,{to:p.jobListingPage}):e.jsx(h.Fragment,{children:e.jsxs("div",{className:"p-12 text-content-black",children:[e.jsx(g,{to:p.jobListingPage,children:e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:k,alt:""})})}),e.jsxs("div",{className:"flex flex-col items-center mt-6 sm:mt-12",children:[e.jsx("h1",{className:"text-2xl font-extrabold xl:text-3xl",children:"Sign up for Job Finder"}),e.jsx("div",{className:"flex-1 w-full mt-2 sm:mt-8",children:e.jsxs("div",{className:"max-w-xs mx-auto",children:[e.jsx(S,{error:r,errorMessage:(l=(i=a==null?void 0:a.response)==null?void 0:i.data)==null?void 0:l.message}),e.jsx(E,{name:"registerForm",isSubmitting:s,handleFormSubmit:o}),e.jsx(M,{loading:s,title:"Submit",form:"registerForm",children:e.jsxs("svg",{className:"w-6 h-6 -ml-2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),e.jsxs("p",{className:"px-2 mt-5 font-medium leading-none tracking-wide text-center transform translate-y-1/ text-content-gray ",children:["Alrady have an account?"," ",e.jsx(g,{to:P.authLoginPage,className:"font-bold text-indigo-500",children:"Login"})]}),e.jsx(A,{})]})})]})]})})}export{q as default};
