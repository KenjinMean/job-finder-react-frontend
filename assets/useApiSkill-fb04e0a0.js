import{x as i,y as c,z as l,A as a,m as d,D as u,E as p,a as k,w as t,U as o}from"./index-505cc4b0.js";const h=async s=>await i.get(`/search-skills?keyword=${s}`),S=async s=>await i.post(`/add-skill?skill_id=${s}`),y=async s=>await i.delete(`/remove-skill?skill_id=${s}`),m=async()=>await i.get("/get-user-skills"),g=s=>c({queryKey:["searchSkill"],queryFn:async()=>{try{return await h(s)}catch(r){throw l("Handling searchSkill Response Failed on useApiSkill hook:",r.message),new Error("Handling searchSkill Response Failed")}},select:r=>{var e;return(e=r==null?void 0:r.data)==null?void 0:e.skills},cacheTime:a(60,"mins"),staleTime:a(60,"mins")}),w=()=>{const s=d(),r=u();return p(e=>S(e),{onSuccess:async()=>{r.invalidateQueries("searchSkill"),s(t(o.userAddSkillSuccessModal.name))},onError:e=>{const n=e.response.data.error||"An error occurred";s(t(o.userAddSkillErrorModal.name,{error:n}))}})},A=()=>{const{authenticatedUser:s}=k(),r=u();try{return async e=>{(await y(e)).status===200&&r.refetchQueries(["fetchUserSkills",s.id])}}catch(e){throw l("Handling removeUserSkill Response Failed on useApiSkill hook:",e.message),new Error("Handling removeUserSkill Response Failed")}},F=(s=!0)=>{const{authenticatedUser:r}=k();return c({queryKey:["fetchUserSkills",r.id],queryFn:async()=>{try{return await m()}catch(e){throw l("Handling fetchUserSkills Response Failed on useApiSkill hook:",e.message),new Error("Handling fetchUserSkills Response Failed")}},select:e=>{var n;return(n=e==null?void 0:e.data)==null?void 0:n.skills},enabled:s,suspense:!0,cacheTime:1/0})};export{A as a,g as b,w as c,F as u};
