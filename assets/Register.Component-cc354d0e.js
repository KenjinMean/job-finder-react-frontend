import{j as e,L as v,r as l,b as j,c as y,a as C,i as A,N as L,g as f,h as S}from"./index-276c8018.js";import{T as $,A as F}from"./TermsServices-d17392f9.js";function k({loading:s,title:a,children:n}){return e.jsx("button",{type:"submit",disabled:s,className:"flex items-center justify-center w-full py-4 mt-5 font-semibold tracking-wide transition-all duration-300 ease-in-out bg-indigo-500 rounded-lg text-content-white_stable disabled:bg-background-slate300 hover:bg-indigo-700 focus:outline-none focus:ring-4 focus:ring-accent-blue500",children:s?e.jsx(v,{size:6}):e.jsxs(l.Fragment,{children:[n,e.jsx("span",{className:"ml-3",children:a})]})})}function P({value:s,onChange:a,onBlur:n,focused:r}){return e.jsxs("div",{children:[e.jsx("input",{className:"w-full px-8 py-4 mt-5 text-sm font-medium border rounded-lg border-border-100 placeholder-content-gray bg-input-gray focus:outline-none focus:ring-4 focus:ring-accent-blue500",type:"email",name:"email",id:"email",required:!0,autoFocus:!0,placeholder:"Email",value:s,onChange:a,focused:r,onBlur:n,autoComplete:"username"}),e.jsx("div",{className:"relative text-center top-2 input-error",children:e.jsx("span",{className:"text-sm text-red-500",children:"Must be a valid email address"})})]})}const R="/job-finder-react-frontend/assets/showPass-b5df9896.png",E="/job-finder-react-frontend/assets/hidePass-da346e1e.png",p=(s,a)=>{switch(a){case"letter":return/[a-zA-Z]/.test(s);case"number":return/\d/.test(s);case"character":return/[$@#&!%*?]/.test(s);case"length":return s.length>=8;case"validate":return/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/.test(s);default:throw new Error("Invalid check type")}},d="/job-finder-react-frontend/assets/yes-cad43ec2.png",m="/job-finder-react-frontend/assets/remove-df93a6f3.png";function _({payload:s,checkPassword:a}){const{password:n}=s;return e.jsxs("ul",{className:"mt-5",children:["Password must contain:",e.jsxs("li",{className:`flex items-center gap-1 ${a(n,"letter")?"text-green-600":"text-red-500"}`,children:[e.jsx("img",{className:"w-3 h-3",src:a(n,"letter")?d:m,alt:"passed"}),"one letter"]}),e.jsxs("li",{className:`flex items-center gap-1 ${a(n,"number")?"text-green-600":"text-red-500"}`,children:[e.jsx("img",{className:"w-3 h-3",src:a(n,"number")?d:m,alt:"passed"}),"one number"]}),e.jsxs("li",{className:`flex items-center gap-1 ${a(n,"character")?"text-green-600":"text-red-500"}`,children:[e.jsx("img",{className:"w-3 h-3",src:a(n,"character")?d:m,alt:"passed"}),"one special character"]}),e.jsxs("li",{className:`flex items-center gap-1 ${a(n,"length")?"text-green-600":"text-red-500"}`,children:[e.jsx("img",{className:"w-3 h-3",src:a(n,"length")?d:m,alt:"passed"}),"minimum of eight charachter"]})]})}function z({payload:s,onChange:a,onFocus:n,focused:r,showPassword:i,setShowpassword:o}){return e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"w-full px-8 py-4 mt-5 text-sm font-medium placeholder-content-gray bg-input-gray border border-border-100 rounded-lg focus:outline-none focus:ring-4 focus:ring-accent-blue500 ",type:i?"text":"password",name:"password",placeholder:"Password",required:!0,pattern:"^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$",value:s.password,focused:r,onChange:a,onFocus:n,autoComplete:"current-password",id:"password"}),e.jsx("button",{type:"button",tabIndex:"-1",className:"absolute right-5 top-[33px] p-1 rounded-full hover:bg-background-slate300 transition-colors",onClick:()=>o(c=>!c),children:e.jsx("img",{className:"w-5 h-5",src:i?E:R,alt:i?"hide password image":"show password image"})}),!p(s.password,"validate")&&e.jsx("div",{className:"text-sm font-medium text-content-gray input-error",children:e.jsx("span",{children:e.jsx(_,{payload:s,checkPassword:p})})})]})}function I({value:s,onChange:a,onFocus:n,focused:r,pattern:i,showPassword:o}){return e.jsxs("div",{children:[e.jsx("input",{className:"w-full px-8 py-4 mt-5 text-sm font-medium border rounded-lg border-border-100 bg-input-gray placeholder-content-gray focus:ring-accent-blue500 focus:border-accent-blue500",type:o?"text":"password",name:"password_confirmation",placeholder:"Confirm Password",value:s,focused:r,onChange:a,onFocus:n,required:!0,pattern:i}),e.jsx("div",{className:"mt-2 text-center input-error",children:e.jsx("span",{className:"text-sm text-red-500",children:"Password doesn't match"})})]})}const h={email:"false",password:"false",password_confirmation:"false"},M={email:"",password:"",password_confirmation:""};function U({registerMutation:s,registerLoading:a,isError:n}){const[r,i]=l.useState(h),[o,c]=l.useState(M),[x,b]=l.useState(!1),w=t=>{t.preventDefault(),s(o)},g=t=>{t.target.name,i({...r,[t.target.name]:"true"})},N=t=>{i({...r,[t.target.name]:"true"})},u=t=>{c({...o,[t.target.name]:t.target.value})};return l.useEffect(()=>{n&&(c(t=>({...t,password:"",password_confirmation:""})),i(h))},[n]),e.jsxs("form",{onSubmit:w,children:[e.jsx(P,{value:o.email,onChange:t=>u(t),focused:r.email,onBlur:t=>N(t)}),e.jsx(z,{focused:r.password,payload:o,onChange:t=>u(t),onFocus:t=>g(t),showPassword:x,setShowpassword:b}),p(o.password,"validate")&&e.jsx(I,{value:o.password_confirmation,onChange:t=>u(t),onFocus:t=>g(t),focused:r.password_confirmation,pattern:o.password,showPassword:x}),e.jsx(k,{loading:a,title:"Sign Up",children:e.jsxs("svg",{className:"w-6 h-6 -ml-2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),e.jsxs("p",{className:"px-2 mt-5 font-medium leading-none tracking-wide text-center transform translate-y-1/ text-content-gray ",children:["Alrady have an account?"," ",e.jsx(j,{to:y.authLoginPage,className:"font-bold text-indigo-500",children:"Login"})]}),e.jsx($,{})]})}function B(){var o,c;const{token:s}=C(),{isLoading:a,isError:n,error:r,mutate:i}=A();return s?e.jsx(L,{to:f.jobListingPage}):e.jsx(l.Fragment,{children:e.jsxs("div",{className:"p-12 text-content-black",children:[e.jsx(j,{to:f.jobListingPage,children:e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:S,alt:""})})}),e.jsxs("div",{className:"flex flex-col items-center mt-6 sm:mt-12",children:[e.jsx("h1",{className:"text-2xl font-extrabold xl:text-3xl",children:"Sign up for Job Finder"}),e.jsx("div",{className:"flex-1 w-full mt-2 sm:mt-8",children:e.jsxs("div",{className:"max-w-xs mx-auto",children:[e.jsx(F,{error:n,errorMessage:(c=(o=r==null?void 0:r.response)==null?void 0:o.data)==null?void 0:c.message}),e.jsx(U,{registerLoading:a,registerMutation:i,isError:n})]})})]})]})})}export{B as default};
