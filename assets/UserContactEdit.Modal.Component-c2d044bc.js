import{j as t,l as p,a as x,b as h,m as C,$ as a,a0 as j,B as g,r as m,Q as v}from"./index-31867f23.js";import{u as U,a as k}from"./useApiUserContact-327b1a0f.js";const u=(e,r,n)=>{if(!r)return"";switch(e){case"remove":if(r.startsWith(n))return r.slice(n.length);break;case"add":if(!r.startsWith(n))return n+r;break;default:return r}return r};function N({payload:e,label:r,name:n,id:s,...i}){return t.jsxs("div",{className:"text-sm",children:[t.jsx("label",{htmlFor:s,className:"font-medium text-content-black",children:r}),t.jsxs("div",{className:"relative flex items-center mt-2",children:[t.jsxs("span",{className:"flex-shrink-0 z-10 inline-flex items-center py-2.5 px-4 font-medium text-centertext-content-black bg-input-gray border border-border-100 rounded-s-lg ",children:["+63"," "]}),t.jsx("div",{className:"relative w-full",children:t.jsx("input",{type:"phone",id:s,name:n,className:"block p-2.5 w-full z-20 text-content-black bg-input-gray rounded-e-lg border-s-0 border border-border-100 focus:ring-accent-blue500 focus:border-accent-blue500 ",...i})})]})]})}function D({payload:e,handleSubmit:r,handleInputChange:n}){const s=p(),{authenticatedUser:i}=x();return t.jsxs("form",{onSubmit:r,className:"p-5 overflow-y-auto rounded-md",children:[t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsxs("div",{children:[t.jsx("span",{className:"block mb-2 font-medium text-content-black",children:"Email"}),t.jsx(h,{onClick:()=>s(C.notImplementedDialog.name),className:"mb-2 font-medium text-accent-blue500",children:i.email})]}),t.jsx(N,{name:"phone",id:"phone",label:"Phone number",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",placeholder:"123-456-7890",value:u("remove",e==null?void 0:e.phone,"+63-")||"",onChange:n,autoComplete:"off"}),t.jsx(a,{name:"city",id:"city",label:"City/Municipality",placeholder:"city",value:(e==null?void 0:e.city)||"",onChange:n,autoComplete:"off"}),t.jsx(a,{name:"province",id:"province",label:"Province",placeholder:"Province",value:(e==null?void 0:e.province)||"",onChange:n,autoComplete:"off"}),t.jsx(a,{name:"zip_code",id:"zipCoce",label:"Zip Code",palceholder:"Zip Code",value:(e==null?void 0:e.zip_code)||"",onChange:n,autoComplete:"off"}),t.jsx(a,{name:"country",id:"country",label:"Country",placeholder:"Country",value:(e==null?void 0:e.country)||"",onChange:n,autoComplete:"off"}),t.jsx(j,{name:"birth_date",id:"birtDate",label:"Birth Date",value:(e==null?void 0:e.birth_date)||"",onChange:n,autoComplete:"off"})]}),t.jsx("div",{className:"flex flex-row-reverse mt-5",children:t.jsx(g,{type:"submit",children:"Save"})})]})}function w({setInputChanged:e}){const{data:r}=U(),[n,s]=m.useState({}),i=l=>{const{name:c,value:o}=l.target;e(!0),s({...n,[c]:o})},d=k(),f=l=>{l.preventDefault();const c=new FormData;c.append("_method","PATCH");for(const o in n)if(o==="phone"){const b=u("add",n[o],"+63-");c.append(o,b)}else c.append(o,n[o]);v.promise(d(c),{pending:"Updating User Contact",success:"User contact updated sucessfully",error:"Error Updating User contact"})};return m.useEffect(()=>{s({...r})},[r]),t.jsx(m.Fragment,{children:t.jsx(D,{payload:n,handleSubmit:f,handleInputChange:i})})}export{w as default};
