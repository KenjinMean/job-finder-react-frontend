import{j as t,k as b,a as h,b as x,l as C,B as j,r as m,Q as g}from"./index-d0a86cdd.js";import{L as a}from"./LabeledTextInput.Ui.Component-144caf41.js";import{L as v}from"./LabeledDateInput.Ui.Component-8cefcb26.js";import{u as U,a as k}from"./useApiUserContact-eebc3658.js";const u=(e,r,n)=>{if(!r)return"";switch(e){case"remove":if(r.startsWith(n))return r.slice(n.length);break;case"add":if(!r.startsWith(n))return n+r;break;default:return r}return r};function N({payload:e,label:r,name:n,id:o,...i}){return t.jsxs("div",{children:[t.jsx("label",{htmlFor:o,className:"font-medium text-content-black",children:r}),t.jsxs("div",{className:"relative flex items-center mt-2",children:[t.jsxs("span",{className:"flex-shrink-0 z-10 inline-flex items-center py-2.5 px-4 font-medium text-centertext-content-black bg-input-gray border border-border-100 rounded-s-lg ",children:["+63"," "]}),t.jsx("div",{className:"relative w-full",children:t.jsx("input",{type:"phone",id:o,name:n,className:"block p-2.5 w-full z-20 text-content-black bg-input-gray rounded-e-lg border-s-0 border border-border-100 focus:ring-accent-blue500 focus:border-accent-blue500 ",...i})})]})]})}function D({payload:e,handleSubmit:r,handleInputChange:n}){const o=b(),{authenticatedUser:i}=h();return t.jsxs("form",{onSubmit:r,className:"p-5 overflow-y-auto rounded-md",children:[t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsxs("div",{children:[t.jsx("span",{className:"block mb-2 font-medium text-content-black",children:"Email"}),t.jsx(x,{onClick:()=>o(C.notImplementedDialog.name),className:"mb-2 font-medium text-accent-blue500",children:i.email})]}),t.jsx(N,{name:"phone",id:"phone",label:"Phone number",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",placeholder:"123-456-7890",value:u("remove",e==null?void 0:e.phone,"+63-")||"",onChange:n,autoComplete:"off"}),t.jsx(a,{name:"city",id:"city",label:"City/Municipality",placeholder:"city",value:(e==null?void 0:e.city)||"",onChange:n,autoComplete:"off"}),t.jsx(a,{name:"province",id:"province",label:"Province",placeholder:"Province",value:(e==null?void 0:e.province)||"",onChange:n,autoComplete:"off"}),t.jsx(a,{name:"zip_code",id:"zipCoce",label:"Zip Code",palceholder:"Zip Code",value:(e==null?void 0:e.zip_code)||"",onChange:n,autoComplete:"off"}),t.jsx(a,{name:"country",id:"country",label:"Country",placeholder:"Country",value:(e==null?void 0:e.country)||"",onChange:n,autoComplete:"off"}),t.jsx(v,{name:"birth_date",id:"birtDate",label:"Birth Date",value:(e==null?void 0:e.birth_date)||"",onChange:n,autoComplete:"off"})]}),t.jsx("div",{className:"flex flex-row-reverse mt-5",children:t.jsx(j,{type:"submit",children:"Save"})})]})}function L({setInputChanged:e}){const{data:r}=U(),[n,o]=m.useState({}),i=l=>{const{name:c,value:s}=l.target;e(!0),o({...n,[c]:s})},d=k(),f=l=>{l.preventDefault();const c=new FormData;c.append("_method","PATCH");for(const s in n)if(s==="phone"){const p=u("add",n[s],"+63-");c.append(s,p)}else c.append(s,n[s]);g.promise(d(c),{pending:"Updating User Contact",success:"User contact updated sucessfully",error:"Error Updating User contact"})};return m.useEffect(()=>{o({...r})},[r]),t.jsx(m.Fragment,{children:t.jsx(D,{payload:n,handleSubmit:f,handleInputChange:i})})}export{L as default};
