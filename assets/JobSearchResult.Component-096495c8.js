import{u as J,r as c,q as P,j as t,P as N,J as R}from"./index-fe81e643.js";import{J as S}from"./JobContainer.Component-5196bdd0.js";import"./TagList.Ui.Component-b9e4c968.js";function E(r,e){const a=new URLSearchParams(r.search),s={};for(const[i,n]of a.entries())s[i]=n;return s}function k(){var m;const r=J(),e=c.useRef(null),a=E(r),{data:s,refetch:i,hasNextPage:n,fetchNextPage:b,isFetching:g,isFetchingNextPage:l}=P(a),f=()=>{e.current&&n&&!l&&b()};return c.useEffect(()=>{const o=new IntersectionObserver(u=>{u[0].isIntersecting&&f()});return e.current&&o.observe(e.current),()=>{e.current&&o.unobserve(e.current)}},[f]),c.useEffect(()=>{i()},[r]),t.jsxs("div",{className:"flex flex-col gap-5 sm:gap-3",children:[t.jsx(N,{title:"Job Search Results"}),(m=s==null?void 0:s.pages)==null?void 0:m.map((o,u)=>{var x,h;return t.jsx(c.Fragment,{children:(h=(x=o.data)==null?void 0:x.data)==null?void 0:h.map((p,d,j)=>{const v=d===j.length-1;return t.jsx(S,{job:p,ref:v?e:null},p.id)})},u)}),l&&t.jsx("div",{className:"pt-5 ",children:t.jsx(R,{})}),!n&&!g&&!l&&t.jsxs("div",{className:"w-full mt-5 text-lg font-semibold text-center text-content-black",children:["No more jobs available for the search: ",a.query]})]})}export{k as default};
