import{R as e,L as v,r as m,b as x,h as y,a as R,i as C,N as S,j as E,P as A,g as L}from"./index-69428934.js";import{T as $,A as F}from"./AuthError.Component-5d7aff89.js";function P({loading:a,title:r,children:s}){return e.createElement("button",{disabled:a,className:"flex items-center justify-center w-full py-4 mt-5 font-semibold tracking-wide text-gray-100 transition-all duration-300 ease-in-out bg-indigo-500 rounded-lg disabled:bg-slate-300 hover:bg-indigo-700 focus:shadow-outline focus:outline-none"},a?e.createElement(v,{size:6}):e.createElement(m.Fragment,null,s,e.createElement("span",{className:"ml-3"},r)))}function _({value:a,onChange:r,onBlur:s,focused:n}){return e.createElement("div",null,e.createElement("input",{className:"w-full px-8 py-4 mt-5 text-sm font-medium placeholder-gray-500 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-400 focus:bg-white",type:"email",name:"email",required:!0,autoFocus:!0,placeholder:"Email",value:a,onChange:r,focused:n,onBlur:s}),e.createElement("div",{className:"relative text-center top-2 input-error"},e.createElement("span",{className:"text-sm text-red-500"},"Must be a valid email address")))}const k="/assets/showPass-b5df9896.png",z="/assets/hidePass-da346e1e.png",p=(a,r)=>{switch(r){case"letter":return/[a-zA-Z]/.test(a);case"number":return/\d/.test(a);case"character":return/[$@#&!%*?]/.test(a);case"length":return a.length>=8;case"validate":return/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/.test(a);default:throw new Error("Invalid check type")}},i="/assets/yes-cad43ec2.png",d="/assets/remove-df93a6f3.png";function I({payload:a,checkPassword:r}){const{password:s}=a;return e.createElement("ul",{className:"mt-5"},"Password must contain:",e.createElement("li",{className:`flex items-center gap-1 ${r(s,"letter")?"text-green-600":"text-red-500"}`},e.createElement("img",{className:"w-3 h-3",src:r(s,"letter")?i:d,alt:"passed"}),"one letter"),e.createElement("li",{className:`flex items-center gap-1 ${r(s,"number")?"text-green-600":"text-red-500"}`},e.createElement("img",{className:"w-3 h-3",src:r(s,"number")?i:d,alt:"passed"}),"one number"),e.createElement("li",{className:`flex items-center gap-1 ${r(s,"character")?"text-green-600":"text-red-500"}`},e.createElement("img",{className:"w-3 h-3",src:r(s,"character")?i:d,alt:"passed"}),"one special character"),e.createElement("li",{className:`flex items-center gap-1 ${r(s,"length")?"text-green-600":"text-red-500"}`},e.createElement("img",{className:"w-3 h-3",src:r(s,"length")?i:d,alt:"passed"}),"minimum of eight charachter"))}function M({payload:a,onChange:r,onFocus:s,focused:n,showPassword:l,setShowpassword:o}){return e.createElement("div",null,e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-8 py-4 mt-5 text-sm font-medium placeholder-gray-500 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-400 focus:bg-white",type:l?"text":"password",name:"password",placeholder:"Password",required:!0,pattern:"^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$",value:a.password,focused:n,onChange:r,onFocus:s}),e.createElement("button",{type:"button",tabIndex:"-1",className:"absolute right-5 top-[33px] p-1 rounded-full hover:bg-slate-300 transition-colors",onClick:()=>o(c=>!c)},e.createElement("img",{className:"w-5 h-5",src:l?z:k,alt:l?"hide password image":"show password image"})),!p(a.password,"validate")&&e.createElement("div",{className:"text-sm font-medium text-slate-500 input-error"},e.createElement("span",null,e.createElement(I,{payload:a,checkPassword:p})))))}function U({value:a,onChange:r,onFocus:s,focused:n,pattern:l,showPassword:o}){return e.createElement("div",null,e.createElement("input",{className:"w-full px-8 py-4 mt-5 text-sm font-medium placeholder-gray-500 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-400 focus:bg-white",type:o?"text":"password",name:"password_confirmation",placeholder:"Confirm Password",value:a,focused:n,onChange:r,onFocus:s,required:!0,pattern:l}),e.createElement("div",{className:"mt-2 text-center input-error"},e.createElement("span",{className:"text-sm text-red-500"},"Password doesn't match")))}const h={email:"false",password:"false",password_confirmation:"false"},j={email:"",password:"",password_confirmation:""};function Z({registerMutation:a,registerLoading:r,isError:s}){const[n,l]=m.useState(h),[o,c]=m.useState(j),[g,w]=m.useState(!1),b=t=>{t.preventDefault(),a(o)},f=t=>{t.target.name,l({...n,[t.target.name]:"true"})},N=t=>{l({...n,[t.target.name]:"true"})},u=t=>{c({...o,[t.target.name]:t.target.value})};return m.useEffect(()=>{s&&(c(t=>({...t,password:"",password_confirmation:""})),l(h))},[s]),e.createElement("form",{onSubmit:b},e.createElement(_,{value:o.email,onChange:t=>u(t),focused:n.email,onBlur:t=>N(t)}),e.createElement(M,{focused:n.password,payload:o,onChange:t=>u(t),onFocus:t=>f(t),showPassword:g,setShowpassword:w}),p(o.password,"validate")&&e.createElement(U,{value:o.password_confirmation,onChange:t=>u(t),onFocus:t=>f(t),focused:n.password_confirmation,pattern:o.password,showPassword:g}),e.createElement(P,{loading:r,title:"Sign Up"},e.createElement("svg",{className:"w-6 h-6 -ml-2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("path",{d:"M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),e.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),e.createElement("path",{d:"M20 8v6M23 11h-6"}))),e.createElement("p",{className:"px-2 mt-5 font-medium leading-none tracking-wide text-center text-gray-600 transform translate-y-1/2 bg-white "},"Alrady have an account?"," ",e.createElement(x,{to:y,className:"font-bold text-indigo-500"},"Login")),e.createElement($,null))}function D(){var o,c;const{token:a}=R(),{isLoading:r,isError:s,error:n,mutate:l}=C();return a?React.createElement(S,{to:E}):React.createElement(m.Fragment,null,React.createElement(A,{title:"Register | JobFinder"}),React.createElement("div",{className:"p-6 sm:p-12"},React.createElement(x,{to:E},React.createElement("div",{className:"flex justify-center"},React.createElement("img",{src:L,alt:""}))),React.createElement("div",{className:"flex flex-col items-center mt-12"},React.createElement("h1",{className:"text-2xl font-extrabold xl:text-3xl"},"Sign up for Job Finder"),React.createElement("div",{className:"flex-1 w-full mt-8"},React.createElement("div",{className:"max-w-xs mx-auto"},React.createElement(F,{error:s,errorMessage:(c=(o=n==null?void 0:n.response)==null?void 0:o.data)==null?void 0:c.message}),React.createElement(Z,{registerLoading:r,registerMutation:l,isError:s}))))))}export{D as default};
