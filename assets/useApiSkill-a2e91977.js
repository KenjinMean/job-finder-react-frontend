import{x as l,y as c,z as a,A as n,m as d,D as u,E as p,a as k,w as t,U as o}from"./index-b3b68563.js";const h=async s=>await l.get(`/search-skills?keyword=${s}`),S=async s=>await l.post(`/add-skill?skill_id=${s}`),y=async s=>await l.delete(`/remove-skill?skill_id=${s}`),m=async()=>await l.get("/get-user-skills"),A=s=>c({queryKey:["searchSkill"],queryFn:async()=>{try{return await h(s)}catch(r){throw a("Handling searchSkill Response Failed on useApiSkill hook:",r.message),{code:r.response.status,message:"Failed to search user skill"}}},select:r=>{var e;return(e=r==null?void 0:r.data)==null?void 0:e.skills},cacheTime:n(60,"mins"),staleTime:n(60,"mins")}),U=()=>{const s=d(),r=u();return p(e=>S(e),{onSuccess:async()=>{r.invalidateQueries("searchSkill"),s(t(o.userAddSkillSuccessModal.name))},onError:e=>{const i=e.response.data.error||"An error occurred";s(t(o.userAddSkillErrorModal.name,{error:i}))}})},w=()=>{const{authenticatedUser:s}=k(),r=u();try{return async e=>{(await y(e)).status===200&&r.refetchQueries(["fetchUserSkills",s.id])}}catch(e){throw a("Handling removeUserSkill Response Failed on useApiSkill hook:",e.message),new Error("Handling removeUserSkill Response Failed")}},F=(s=!0)=>{const{authenticatedUser:r}=k();return c({queryKey:["fetchUserSkills",r.id],queryFn:async()=>{try{return await m()}catch(e){throw a("Handling fetchUserSkills Response Failed on useApiSkill hook:",e.message),{code:e.response.status,message:"Failed to fetch user skills"}}},select:e=>{var i;return(i=e==null?void 0:e.data)==null?void 0:i.skills},enabled:s,suspense:!0,cacheTime:1/0})};export{w as a,A as b,U as c,F as u};
